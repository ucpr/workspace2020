## 参考文献
- https://www.amazon.co.jp/%E3%81%B5%E3%81%A4%E3%81%86%E3%81%AELinux%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-%E7%AC%AC2%E7%89%88-Linux%E3%81%AE%E4%BB%95%E7%B5%84%E3%81%BF%E3%81%8B%E3%82%89%E5%AD%A6%E3%81%B9%E3%82%8Bgcc%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E3%81%AE%E7%8E%8B%E9%81%93-%E9%9D%92%E6%9C%A8-%E5%B3%B0%E9%83%8E/dp/4797386479
- https://milestone-of-se.nesuke.com/sv-basic/architecture/user-space-kernel-space/

## ファイルディスクリプタ
- ストリームにはそれぞれ識別子を付けてられている.  
- fdはプログラムからみるとただの整数値.  
- ユーザー空間からストリームを覗きたいときはfdを使ってストリームを指定してsyscallする.

## ファイルオフセット
- ストリームはファイルをどこまで読んだかが記憶されている.
- ストリームのつながっている位置をファイルオフセットという

## stdio
- システムコールは関数呼び出しより遅い
- バッファリング
  - read
    - ストリームを大きい単位でreadしてバッファに保存。そして、求められた単位でバッファからstdioが返す
  - write
    - バッファがいっぱいになったらwriteされる
    - 例外1: `\n`が含まれたらwriteされる
    - 例外2: stdioストリームがアンバッファモードになっているとき
    - 例外3: stderr. (最初からアンバッファモードになっている)

## FILE型
- stdioではfdの代わりに`FILE`という型へのポインタを使う.
- ストリームを表現するために使われる型である
- `FILE`は`typedef`で定義された型.
  - fdとstdioのバッファの内部情報が入っています.

## プログラム
### syscall
#### do\_cat
- openするとfdが返ってくる.
- read()を使うと必ず前回の続きが返ってくる.

